{"filter":false,"title":"juso.rb","tooltip":"/app/helpers/juso.rb","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":83,"column":3},"action":"insert","lines":["require 'nokogiri'","require 'open-uri'","require 'rest-client'","require 'awesome_print'","require \"json\"","","module Juso","    class JsSave","        def sidosave","            gongtong = \"http://info.nec.go.kr/main/\"","            url = gongtong+\"main_election_sido_map.json?electionId=0020180613\"","            result = RestClient.get url","            result=JSON.parse(result)","            return result","        end","        ","        def gusigunsave(wiwid)","            gongtong = \"http://info.nec.go.kr/main/\"","            url = gongtong+\"main_election_gusigun_map.json?electionId=0020180613&parentCityCode=\"+wiwid","            result = RestClient.get url","            result=JSON.parse(result)","            return result","        end","        ","        def emdsave(tc)","            gongtong = \"http://info.nec.go.kr/main/\"","            url = gongtong + \"main_election_emd_map.json?electionId=0020180613&townCode=\"+ tc","            result = RestClient.get url","            result=JSON.parse(result)","            ","            return result","        end","        ","","        def bjsave(file)","            require \"csv\"","            ","            ","            juso = Hash.new","            arr = Array.new","            CSV.foreach(file) do |h, b|","                arr = []","                if juso[h].nil?","                    arr.push(b)","                    juso[h] = arr","                else","                    juso[h].push(b)","                end","            end","            ","            return juso","        end","        ","    end","    ","    class Func_step","        def find_el","            return n_step=1, result=\"시/도지사\"","        end","        ","        def find_sido","            ","            return n_step=1, result=\"서울\"","        end","        ","        def find_gusigun(sido)","            ","            return n_step=1, result=\"#{sido} 금천구\"","        end","        ","        def find_emd(gusigun)","            ","            return n_step=1, result=\"#{gusigun} 독산동\"","        end","        ","        def go_home","            return n_step=90, result=\"\" ","        end","        ","        def back_func","            return n_step=-1, result=\"\" ","        end","    end","end"],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":6,"column":11},"end":{"row":6,"column":11},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1524710402285,"hash":"25bf254cb9e3d5ed760051026c47381ca9c78c17"}